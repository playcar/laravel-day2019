@title[101]
### 101
```php
class User
{
    use Notifiable; // Magic trait
    // Having a 'email' field in the User model is all is needed to send email
}
```

+++
### 101
```php
use Illuminate\Bus\Queueable;
use Illuminate\Notifications\Notifiable;
use Illuminate\Notifications\Notification;
use Illuminate\Contracts\Queue\ShouldQueue;

class BaseNotification extends Notification implements ShouldQueue
{
    use Queueable;

    // BONUS: Use contructor method to set up common notifications part
    private $subject;
    private $content;
    private $attachments;

    public function via($notifiable)
    {
        // Custom logic to inject channels
        return ['mail','database','broadcast'];
    }

    public function toMail($notifiable)
    {
        // Classic email
        return (new Illuminate\Notifications\Messages\MailMessage)->view(
        'email_template_view', [
            // view params
        ])->subject('mail subject');
        // Markdown email
        return (new MailMessage)
            ->greeting('Hello!')
            ->line('Some text');
    }
    
    // Used also for the database and broadcast channel
    public function toArray($notifiable)
    {
        return [
            // Notification data values map
        ];
    }
    // Additional custom formatters
    
    public function getSlug()
    {
        $name = Str::kebab(get_class($this));
        $name = explode("\\", $name);
        $name = array_pop($name);
        return trim($name, "-");
    }

    public function getTranslation($field, $replacements = [])
    {
        $base = __("notifications." . $this->getSlug() . "." . $field);

        if (is_array($base)) {
            for ($i = 0; $i < sizeof($base); $i++) {
                foreach ($replacements as $key => $value) {
                    $base[$i] = str_replace("#$key#", $value, $base[$i]);
                }
            }
        } else if (is_string($base)) {
            foreach ($replacements as $key => $value) {
                $base = str_replace("#$key#", $value, $base);
            }
        }
        return $base;
    }

}
```